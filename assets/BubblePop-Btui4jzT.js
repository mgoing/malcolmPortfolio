const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-BwzpDwr3.js","assets/index-Djj4lani.js","assets/index-CodKXjAH.css"])))=>i.map(i=>d[i]);
import{r as f,_,b as I,j as v}from"./index-Djj4lani.js";function j(){const m=f.useRef(null),u=f.useRef(null),d=f.useRef(null),[E,b]=f.useState(!0);return f.useEffect(()=>{let h=!0;return(async()=>{try{const a=await _(()=>import("./app-BwzpDwr3.js"),__vite__mapDeps([0,1,2])),P=a.default||a,R=e=>{let l=[],g,y=0,w=0,c=[],S=110,o,x;e.setup=async()=>{e.createCanvas(500,400),g=Math.round(e.millis()/1e3),x=await new Promise((t,s)=>{e.loadImage(I,r=>t(r),r=>s(r))}),o=e.createSlider(0,5,1,.5);const n=e.canvas?.parentNode||e.canvas?.parentElement||e.canvas&&e.canvas.parent;n&&typeof o.parent=="function"?o.parent(n):typeof o.parent=="function"&&(m.current?o.parent(m.current):o.parent(document.body));try{o.position(10,10)}catch{}d.current=o,h&&b(!1)},e.draw=()=>{if(!x)return;w=Math.round(e.millis()/1e3)-g;const n=e.width,t=e.height,s=e.drawingContext.createLinearGradient(0,0,n,t);s.addColorStop(0,"#6e6e6fff"),s.addColorStop(1,"#F9D9F9"),e.drawingContext.fillStyle=s,e.drawingContext.fillRect(0,0,n,t),e.noStroke(),e.fill("black"),e.textSize(20),e.textAlign(e.CENTER),e.text("Bubble POP!",n/2,30),e.textSize(14),e.text("Pop bubbles as fast as you can!",n/2,50),e.textAlign(e.LEFT),e.text(`Score: ${y}`,10,t-30),e.text(`Time: ${w}s`,120,t-30);for(let r=c.length-1;r>=0;r--)c[r].update(),c[r].display(e),c[r].done()&&c.splice(r,1);e.millis()-g<3e4&&e.frameCount%10===0&&l.push({x:e.random(Math.max(1,n-50)),y:70,size:e.random(20,50)});for(let r=l.length-1;r>=0;r--){const i=l[r];i.y+=o.value(),x&&e.image(x,i.x-i.size/2,i.y-i.size/2,i.size,i.size),e.mouseIsPressed&&e.dist(i.x,i.y,e.mouseX,e.mouseY)<i.size/2&&(l.splice(r,1),y++,z(e.mouseX,e.mouseY))}l.length>0&&l[l.length-1].y>t&&(S+=1,e.textAlign(e.CENTER),e.textSize(24),e.fill("rgb(97,48,48)"),e.text(`Your Score: ${y}`,n/2,S))};function z(n,t){for(let s=0;s<10;s++)c.push(new C(n,t))}class C{constructor(t,s){this.pos=e.createVector(t,s),this.vel=e.createVector(e.random(-5,5),e.random(-5,5)),this.acc=e.createVector(0,.1),this.lifespan=255,this.color=e.color("rgb(184, 219, 255)")}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.lifespan-=5,this.color.setAlpha(this.lifespan)}display(t){t.noStroke(),t.fill(this.color),t.ellipse(this.pos.x,this.pos.y,10,10)}done(){return this.lifespan<=0}}};h&&(u.current=new P(R,m.current))}catch(a){console.error("Failed to load p5 or run sketch:",a),h&&b(!1)}})(),()=>{h=!1;try{u.current&&typeof u.current.remove=="function"&&(u.current.remove(),u.current=null),d.current&&typeof d.current.remove=="function"&&(d.current.remove(),d.current=null)}catch(a){console.warn("Error during p5 cleanup",a)}}},[]),v.jsx("div",{ref:m,className:"w-full h-full bg-transparent flex items-center justify-center overflow-hidden",style:{minWidth:500,minHeight:400,position:"relative"},children:E&&v.jsx("div",{style:{position:"absolute",inset:0,display:"grid",placeItems:"center",pointerEvents:"none"},children:v.jsx("div",{style:{color:"#cbd5e1",fontFamily:"monospace"},children:"Loading gameâ€¦"})})})}export{j as default};
